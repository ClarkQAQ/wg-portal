import{s as y,A as $,r as v,p as C,o as i,h as n,q as m,B as P,C as I,i as e,t as d,j as b,v as S,x as o,m as p,k as c,F as h,n as f,y as g,z as w}from"./index--mSsjyvF.js";const D={class:"mt-4 row"},z={class:"col-12 col-lg-5"},N={class:"mt-2"},x={class:"col-12 col-lg-4 text-lg-end"},V={class:"form-group d-inline"},A={class:"input-group mb-3"},L=["placeholder"],B=["title"],E=e("i",{class:"fa-solid fa-search"},null,-1),M=[E],F={class:"col-12 col-lg-3 text-lg-end"},U=["title"],T=e("i",{class:"fa fa-plus me-1"},null,-1),j=e("i",{class:"fa fa-user"},null,-1),q=[T,j],H={class:"mt-2 table-responsive"},K={key:0},O={key:1,id:"peerTable",class:"table table-sm"},R={scope:"col"},W=["title"],G=e("th",{scope:"col"},null,-1),J={scope:"col"},Q={scope:"col"},X={key:0,scope:"col"},Y={scope:"col"},Z=e("th",{scope:"col"},null,-1),ee=e("th",{scope:"row"},[e("input",{id:"flexCheckDefault",class:"form-check-input",type:"checkbox",value:""})],-1),te={class:"text-center"},se={key:0,class:"text-danger"},oe=["title"],le={key:1,class:"text-warning"},ie=["title"],ne=["title"],ae=["title"],de={key:0},ce={key:0},re=e("span",{class:"badge rounded-pill bg-success"},[e("i",{class:"fa-solid fa-link"})],-1),_e=["title"],ue={key:1},he=e("span",{class:"badge rounded-pill bg-light"},[e("i",{class:"fa-solid fa-link-slash"})],-1),pe=[he],fe={class:"text-center"},ge=["title","onClick"],ve=e("i",{class:"fas fa-eye me-2"},null,-1),me=[ve],be=["title","onClick"],ke=e("i",{class:"fas fa-cog"},null,-1),ye=[ke],$e=e("hr",null,null,-1),Ce={class:"mt-3"},Pe={class:"row"},Ie={class:"col-6"},Se={class:"pagination pagination-sm"},we=["onClick"],De={class:"col-6"},ze={class:"form-group row"},Ne={class:"col-sm-6 col-form-label text-end",for:"paginationSelector"},xe={class:"col-sm-6"},Ve=e("option",{value:"10"},"10",-1),Ae=e("option",{value:"25"},"25",-1),Le=e("option",{value:"50"},"50",-1),Be=e("option",{value:"100"},"100",-1),Ee={value:"999999999"},Ue={__name:"ProfileView",setup(Me){const k=y(),s=$(),u=v(""),r=v("");return C(async()=>{await s.LoadUser(),await s.LoadPeers(),await s.LoadStats()}),(a,l)=>(i(),n(h,null,[m(P,{peerId:u.value,visible:u.value!=="",onClose:l[0]||(l[0]=t=>u.value="")},null,8,["peerId","visible"]),m(I,{peerId:r.value,visible:r.value!=="",onClose:l[1]||(l[1]=t=>r.value="")},null,8,["peerId","visible"]),e("div",D,[e("div",z,[e("h2",N,d(a.$t("profile.headline")),1)]),e("div",x,[e("div",V,[e("div",A,[b(e("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>o(s).filter=t),class:"form-control",placeholder:a.$t("general.search.placeholder"),type:"text",onKeyup:l[3]||(l[3]=(...t)=>o(s).afterPageSizeChange&&o(s).afterPageSizeChange(...t))},null,40,L),[[S,o(s).filter]]),e("button",{class:"input-group-text btn btn-primary",title:a.$t("general.search.button")},M,8,B)])])]),e("div",F,[o(k).Setting("SelfProvisioning")?(i(),n("a",{key:0,class:"btn btn-primary ms-2",href:"#",title:a.$t("general.search.button-add-peer"),onClick:l[4]||(l[4]=p(t=>r.value="#NEW#",["prevent"]))},q,8,U)):c("",!0)])]),e("div",H,[o(s).CountPeers===0?(i(),n("div",K,[e("h4",null,d(a.$t("profile.no-peer.headline")),1),e("p",null,d(a.$t("profile.no-peer.abstract")),1)])):c("",!0),o(s).CountPeers!==0?(i(),n("table",O,[e("thead",null,[e("tr",null,[e("th",R,[e("input",{id:"flexCheckDefault",class:"form-check-input",title:a.$t("general.select-all"),type:"checkbox",value:""},null,8,W)]),G,e("th",J,d(a.$t("profile.table-heading.name")),1),e("th",Q,d(a.$t("profile.table-heading.ip")),1),o(s).hasStatistics?(i(),n("th",X,d(a.$t("profile.table-heading.stats")),1)):c("",!0),e("th",Y,d(a.$t("profile.table-heading.interface")),1),Z])]),e("tbody",null,[(i(!0),n(h,null,f(o(s).FilteredAndPagedPeers,t=>(i(),n("tr",{key:t.Identifier},[ee,e("td",te,[t.Disabled?(i(),n("span",se,[e("i",{class:"fa fa-circle-xmark",title:t.DisabledReason},null,8,oe)])):c("",!0),!t.Disabled&&t.ExpiresAt?(i(),n("span",le,[e("i",{class:"fas fa-hourglass-end",title:t.ExpiresAt},null,8,ie)])):c("",!0)]),e("td",null,[t.DisplayName?(i(),n("span",{key:0,title:t.Identifier},d(t.DisplayName),9,ne)):(i(),n("span",{key:1,title:t.Identifier},d(a.$filters.truncate(t.Identifier,10)),9,ae))]),e("td",null,[(i(!0),n(h,null,f(t.Addresses,_=>(i(),n("span",{key:_,class:"badge rounded-pill bg-light"},d(_),1))),128))]),o(s).hasStatistics?(i(),n("td",de,[o(s).Statistics(t.Identifier).IsConnected?(i(),n("div",ce,[re,e("span",{title:o(s).Statistics(t.Identifier).LastHandshake},d(a.$t("profile.peer-connected")),9,_e)])):(i(),n("div",ue,pe))])):c("",!0),e("td",null,d(t.InterfaceIdentifier),1),e("td",fe,[e("a",{href:"#",title:a.$t("profile.button-show-peer"),onClick:p(_=>u.value=t.Identifier,["prevent"])},me,8,ge),e("a",{href:"#",title:a.$t("profile.button-edit-peer"),onClick:p(_=>r.value=t.Identifier,["prevent"])},ye,8,be)])]))),128))])])):c("",!0)]),$e,e("div",Ce,[e("div",Pe,[e("div",Ie,[e("ul",Se,[e("li",{class:g([{disabled:o(s).pageOffset===0},"page-item"])},[e("a",{class:"page-link",onClick:l[5]||(l[5]=(...t)=>o(s).previousPage&&o(s).previousPage(...t))},"«")],2),(i(!0),n(h,null,f(o(s).pages,t=>(i(),n("li",{key:t,class:g([{active:o(s).currentPage===t},"page-item"])},[e("a",{class:"page-link",onClick:_=>o(s).gotoPage(t)},d(t),9,we)],2))),128)),e("li",{class:g([{disabled:!o(s).hasNextPage},"page-item"])},[e("a",{class:"page-link",onClick:l[6]||(l[6]=(...t)=>o(s).nextPage&&o(s).nextPage(...t))},"»")],2)])]),e("div",De,[e("div",ze,[e("label",Ne,d(a.$t("general.pagination.size"))+": ",1),e("div",xe,[b(e("select",{"onUpdate:modelValue":l[7]||(l[7]=t=>o(s).pageSize=t),class:"form-select",onClick:l[8]||(l[8]=t=>o(s).afterPageSizeChange())},[Ve,Ae,Le,Be,e("option",Ee,d(a.$t("general.pagination.all")),1)],512),[[w,o(s).pageSize,void 0,{number:!0}]])])])])])])],64))}};export{Ue as default};
